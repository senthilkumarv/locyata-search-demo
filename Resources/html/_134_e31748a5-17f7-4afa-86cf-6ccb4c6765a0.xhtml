<?xml version="1.0" encoding="UTF-8"?><html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops"><head><meta content="text/html; charset=utf-8" http-equiv="default-style"/><title>Task 4: Enable SSH Protocol for Remote ManagementEPUB 3a959fd08-369e-42f9-8dc2-6c261988e5f7</title><link type="text/css" rel="STYLESHEET" href="ContentPackages/Core/Stylesheets/Core.css?bv=72"/><link type="text/css" rel="STYLESHEET" href="ContentPackages/Core/Stylesheets/jquery-ui-all.css?bv=72"/><link type="text/css" rel="STYLESHEET" href="ContentPackages/Core/Stylesheets/jquery.alerts.css?bv=72"/></head><body class=""><div class="Procedure"><div class="Title_Procedure">Task 4: Enable SSH Protocol for Remote Management</div><div id="N20009" class="ParagraphType ParaBlock"><div class="Wysiwyg">In an earlier task, you protected the passwords by using encryption. However, if the process of remote management uses the Telnet protocol, which sends all characters in cleartext including passwords, the potential exists for packet capture and exploitation of the information. In this task, you will configure the SSH protocol as an alternative to Telnet. If it is possible in your environment, it would be best to <span class="WysiwygItalic">replace</span> Telnet with SSH.</div></div><div class="TitledBlockType"><div class="TitledBlockType_Title">Activity Procedure</div><div class="ParagraphType"><div class="Wysiwyg">Complete these steps:</div></div></div><div id="StepGroup" class="StepGroup"><div id="Step0"><table class="StepActionTable" id="Step0Body"><tbody><tr><td colspan="2" class="Separator">Step1</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">At the enable EXEC prompt, enter the command to access the global configuration prompt.</td></tr></tbody></table></div><div id="Step1"><table class="StepActionTable" id="Step1Body"><tbody><tr><td colspan="2" class="Separator">Step2</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">The SSH protocol requires the use of a username and password pair. These have not yet been configured, so you will do that now. Enter the command <span class="WysiwygEmph">username netadmin password netadmin</span>. It this example, you use a simple username, but in a real-world environment, a much stronger username and password <span class="WysiwygItalic">must</span> be used.</td></tr></tbody></table></div><div id="Step2"><table class="StepActionTable" id="Step2Body"><tbody><tr><td colspan="2" class="Separator">Step3</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">Enter the command <span class="WysiwygEmph">ip domain-name </span><span class="WysiwygItalic">domain-name</span>. The generation of an SSH cryptographic key requires that both the hostname and domain name be configured. The hostname is already configured, so it is necessary to configure the domain name. Normally, you would use the domain name of your organization; in this lab, you will use “cisco.com”.</td></tr></tbody></table></div><div id="Step3"><table class="StepActionTable" id="Step3Body"><tbody><tr><td colspan="2" class="Separator">Step4</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">Enter the command <span class="WysiwygEmph">crypto key generate rsa</span>. You are prompted for a key size; 512 is the default, but you will enter <span class="WysiwygEmph">1024</span>. Your output should be similar to the following example, which is edited to include only those lines that pertain to this task.</td></tr><tr><td class="StepCell"/><td style="padding-left: 0px;padding-bottom: 5px;" class="StepCell"><div class="CodeEPUB">RouterX(config)#username netadmin password netadmin<br/>RouterX(config)#ip domain-name cisco.com<br/>RouterX(config)#crypto key generate rsa<br/>The name for the keys will be: RouterX.cisco.com<br/>Choose the size of the key modulus in the range of 360 to 2048 for your<br/>  General Purpose Keys. Choosing a key modulus greater than 512 may take<br/>  a few minutes. <br/> <br/>How many bits in the modulus [512]: 1024<br/>% Generating 1024 bit RSA keys, keys will be non-exportable...[OK] <br/> <br/>RouterX(config)#<br/>*Mar 16 20:32:15.613: %SSH-5-ENABLED: SSH 1.99 has been enabled</div></td></tr></tbody></table></div><div id="Step4"><table class="StepActionTable" id="Step4Body"><tbody><tr><td colspan="2" class="Separator">Step5</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">Enter the command<span class="WysiwygEmph"> ip ssh version 2</span> to specify the required SSH version.</td></tr></tbody></table></div><div id="Step5"><table class="StepActionTable" id="Step5Body"><tbody><tr><td colspan="2" class="Separator">Step6</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">Enter the command <span class="WysiwygEmph">line vty 0 4</span>.</td></tr></tbody></table></div><div id="Step6"><table class="StepActionTable" id="Step6Body"><tbody><tr><td colspan="2" class="Separator">Step7</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">Enter the command <span class="WysiwygEmph">login local</span>. This changes the login process to use the locally configured username and password pairs.</td></tr></tbody></table></div><div id="Step7"><table class="StepActionTable" id="Step7Body"><tbody><tr><td colspan="2" class="Separator">Step8</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">Enter the command <span class="WysiwygEmph">transport input telnet ssh</span>. This configures the five vty lines to support both Telnet and SSH. Your output should be similar to the following example:</td></tr><tr><td class="StepCell"/><td style="padding-left: 0px;padding-bottom: 5px;" class="StepCell"><div class="CodeEPUB">RouterX(config)#line vty 0 4<br/>RouterX(config-line)#login local<br/>RouterX(config-line)#transport input telnet ssh</div></td></tr></tbody></table></div><div id="Step8"><table class="StepActionTable" id="Step8Body"><tbody><tr><td colspan="2" class="Separator">Step9</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">Enter the command to return to enable EXEC prompt.</td></tr></tbody></table></div><div id="Step9"><table class="StepActionTable" id="Step9Body"><tbody><tr><td colspan="2" class="Separator">Step10</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">Enter the command <span class="WysiwygEmph">show ip ssh</span>.</td></tr><tr><td class="StepCell"/><td style="padding-left: 0px;padding-bottom: 5px;" class="StepCell"><div class="CodeEPUB">RouterX#show ip ssh<br/>SSH Enabled - version 2.0<br/>Authentication timeout: 120 secs; Authentication retries: 3</div></td></tr></tbody></table></div><div id="Step10"><table class="StepActionTable" id="Step10Body"><tbody><tr><td colspan="2" class="Separator">Step11</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">To test your configuration, you need to make a VPN tunnel connection to the remote lab by using the method from Lab 2-1. You may get a security warning regarding the crypto key; accept the key by clicking the <span class="WysiwygEmph">Yes</span> button in the popup window.</td></tr></tbody></table></div><div id="Step11"><table class="StepActionTable" id="Step11Body"><tbody><tr><td colspan="2" class="Separator">Step12</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">On your PC, open your SSH terminal client application. Use the IP address of your workgroup router (<span class="WysiwygEmph">10.</span><span class="WysiwygItalic"><span class="WysiwygEmph">x.x</span></span><span class="WysiwygEmph">.3</span>) and the username and password pair that you configured in Step 2 of this task.</td></tr></tbody></table></div><div id="Step12"><table class="StepActionTable" id="Step12Body"><tbody><tr><td colspan="2" class="Separator">Step13</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">The following is an example of a successful connection with the PuTTY application using  SSH:</td></tr><tr><td class="StepCell"/><td style="padding-left: 0px;padding-bottom: 5px;" class="StepCell"><div class="FigureType Figure"><div class="MediaObjectType MediaObject"><div style="float:none;width:auto;text-align:center;padding:10px;"><div id="overlaysN200D4" style="&#10;&#9;&#9;&#9;&#9;&#9;position:relative;width:auto;&#10;&#9;&#9;&#9;&#9;&#10;&#9;&#9;&#9;&#9;&#9;&#9;text-align:center;&#10;&#9;&#9;&#9;&#9;&#9;"><img src="media/cert/CCNAX/v1.1/LG/CCNAX11LG-02000037.png" onload="" id="overlaysN200D4img" style="border: none;&#10;&#9;&#9;&#9;&#9;&#9;&#9;max-width: 500px;&#10;&#9;&#9;&#9;&#9;&#9;&#9;" alt=""/></div></div></div></div></td></tr></tbody></table></div><div id="Step13"><table class="StepActionTable" id="Step13Body"><tbody><tr><td colspan="2" class="Separator">Step14</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">Open the Windows command window and enter the command <span class="WysiwygEmph">telnet 10.</span><span class="WysiwygItalic"><span class="WysiwygEmph">x</span></span><span class="WysiwygEmph">.</span><span class="WysiwygItalic"><span class="WysiwygEmph">x</span></span><span class="WysiwygEmph">.3</span> (enter the IP address of <span class="WysiwygItalic">your </span>workgroup router). Your output should be similar to the following example:</td></tr><tr><td class="StepCell"/><td style="padding-left: 0px;padding-bottom: 5px;" class="StepCell"><div class="FigureType Figure"><div class="MediaObjectType MediaObject"><div style="float:none;width:auto;text-align:center;padding:10px;"><div id="overlaysN20107" style="&#10;&#9;&#9;&#9;&#9;&#9;position:relative;width:auto;&#10;&#9;&#9;&#9;&#9;&#10;&#9;&#9;&#9;&#9;&#9;&#9;text-align:center;&#10;&#9;&#9;&#9;&#9;&#9;"><img src="media/cert/CCNAX/v1.1/LG/CCNAX11LG-02000038.png" onload="" id="overlaysN20107img" style="border: none;&#10;&#9;&#9;&#9;&#9;&#9;&#9;max-width: 500px;&#10;&#9;&#9;&#9;&#9;&#9;&#9;" alt=""/></div></div></div></div></td></tr></tbody></table></div><div id="Step14"><table class="StepActionTable" id="Step14Body"><tbody><tr><td colspan="2" class="Separator">Step15</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">Enter the username and password in the new Telnet command window that automatically opens. Having established that Telnet is working simultaneously with SSH, type <span class="WysiwygEmph">logout</span> at the user EXEC prompt and close your command window by typing <span class="WysiwygEmph">exit</span> at the command window prompt. Your output should be similar to the following example:</td></tr><tr><td class="StepCell"/><td style="padding-left: 0px;padding-bottom: 5px;" class="StepCell"><div class="FigureType Figure"><div class="MediaObjectType MediaObject"><div style="float:none;width:auto;text-align:center;padding:10px;"><div id="overlaysN2012A" style="&#10;&#9;&#9;&#9;&#9;&#9;position:relative;width:auto;&#10;&#9;&#9;&#9;&#9;&#10;&#9;&#9;&#9;&#9;&#9;&#9;text-align:center;&#10;&#9;&#9;&#9;&#9;&#9;"><img src="media/cert/CCNAX/v1.1/LG/CCNAX11LG-02000039.png" onload="" id="overlaysN2012Aimg" style="border: none;&#10;&#9;&#9;&#9;&#9;&#9;&#9;max-width: 500px;&#10;&#9;&#9;&#9;&#9;&#9;&#9;" alt=""/></div></div></div></div></td></tr></tbody></table></div><div id="Step15"><table class="StepActionTable" id="Step15Body"><tbody><tr><td colspan="2" class="Separator">Step16</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">Enter the command to save your configuration to the startup-config file.</td></tr></tbody></table></div></div><div class="TitledBlockType"><div class="TitledBlockType_Title">Activity Verification</div><div class="ParagraphType"><div class="ListType List"><div class="ListPreamble">You have completed this task when you attain these results:</div><table class="UnorderedTable"><tr><td/><td><ul class="Bullet"><li><div class="ItemPara">You have configured the vty lines to support the SSH version 2 protocol.</div></li></ul></td></tr><tr><td/><td><ul class="Bullet"><li><div class="ItemPara">You have successfully connected directly to your workgroup router by using SSH and Telnet, thus proving that both are being supported simultaneously.</div></li></ul></td></tr><tr><td/><td><ul class="Bullet"><li><div class="ItemPara">You have saved your configuration.</div></li></ul></td></tr></table></div></div></div></div></body></html>