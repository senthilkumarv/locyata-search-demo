<?xml version="1.0" encoding="UTF-8"?><html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops"><head><meta content="text/html; charset=utf-8" http-equiv="default-style"/><title>Task 2: Use the CLI to Verify and Observe the Operation of PAT on Your Workgroup RouterEPUB 3a959fd08-369e-42f9-8dc2-6c261988e5f7</title><link type="text/css" rel="STYLESHEET" href="ContentPackages/Core/Stylesheets/Core.css?bv=72"/><link type="text/css" rel="STYLESHEET" href="ContentPackages/Core/Stylesheets/jquery-ui-all.css?bv=72"/><link type="text/css" rel="STYLESHEET" href="ContentPackages/Core/Stylesheets/jquery.alerts.css?bv=72"/></head><body class=""><div class="Procedure"><div class="Title_Procedure">Task 2: Use the CLI to Verify and Observe the Operation of PAT on Your Workgroup Router</div><div id="N20009" class="ParagraphType ParaBlock"><div class="Wysiwyg">In this task, you will connect to your workgroup router via the SSH connection. You will use CLI commands to ping the DHCP-provided default gateway IP address. Then, you will observe the PAT information that is stored by the workgroup router by using the <span class="WysiwygEmph">clear</span> and <span class="WysiwygEmph">show ip nat translations</span> commands.</div></div><div class="TitledBlockType"><div class="TitledBlockType_Title">Activity Procedure</div><div class="ParagraphType"><div class="Wysiwyg">Complete these steps:</div></div></div><div id="StepGroup" class="StepGroup"><div id="Step0"><table class="StepActionTable" id="Step0Body"><tbody><tr><td colspan="2" class="Separator">Step1</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">Using the SSH-capable terminal emulation application, connect to your assigned workgroup router.</td></tr></tbody></table></div><div id="Step1"><table class="StepActionTable" id="Step1Body"><tbody><tr><td colspan="2" class="Separator">Step2</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">At the enable prompt, enter the <span class="WysiwygEmph">show dhcp lease</span> command. Your output should be similar to the following example but will be different for each pod.</td></tr><tr><td class="StepCell"/><td style="padding-left: 0px;padding-bottom: 5px;" class="StepCell"><div class="CodeEPUB">RouterX#show dhcp lease<br/>Temp IP addr: 172.20.21.5  for peer on Interface: FastEthernet0/1<br/>Temp  sub net mask: 255.255.255.0<br/>   DHCP Lease server: 172.20.21.254, state: 3 Bound<br/>   DHCP transaction id: 1F7E<br/>   Lease: 86400 secs,  Renewal: 43200 secs,  Rebind: 75600 secs<br/>Temp <span class="WysiwygEmph">default-gateway addr: 172.20.21.254</span><br/>   Next timer fires after: 11:53:31<br/>   Retry count: 0   Client-ID: 001a.6ca1.eed9<br/>   Client-ID hex dump: 001A6CA1EED9<br/>   Hostname: RouterX<br/>RouterX#</div></td></tr></tbody></table></div><div id="Step2"><table class="StepActionTable" id="Step2Body"><tbody><tr><td colspan="2" class="Separator">Step3</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">Use the <span class="WysiwygEmph">clear ip nat translation *</span> command to clear any residual NAT information before proceeding to the next step.</td></tr></tbody></table></div><div id="Step3"><table class="StepActionTable" id="Step3Body"><tbody><tr><td colspan="2" class="Separator">Step4</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">Use the <span class="WysiwygEmph">show ip nat translations</span> command to verify that there is no data to display.</td></tr><tr><td class="StepCell"/><td style="padding-left: 0px;padding-bottom: 5px;" class="StepCell"><div class="CodeEPUB">RouterX#clear ip nat translation *<br/>RouterX#show ip nat translations <br/> <br/>RouterX#</div></td></tr></tbody></table></div><div id="Step4"><table class="StepActionTable" id="Step4Body"><tbody><tr><td colspan="2" class="Separator">Step5</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">Using the IP address of the default router that was obtained in your output, use the <span class="WysiwygEmph">ping</span> command to test connectivity.</td></tr></tbody></table></div><div id="Step5"><table class="StepActionTable" id="Step5Body"><tbody><tr><td colspan="2" class="Separator">Step6</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">Use the <span class="WysiwygEmph">show ip nat translations</span> command to observe if any translation was made. Your output should be similar to the following example:</td></tr><tr><td class="StepCell"/><td style="padding-left: 0px;padding-bottom: 5px;" class="StepCell"><div class="CodeEPUB">RouterX#show ip nat translations<br/> <br/>RouterX#</div><table class="CustomNote"><tr><td class="AreaIcon"><img style="cursor: pointer; width:px ; height:px" src="ContentPackages/media/Core/CustomNote.png" alt=""/></td><td class="AreaContent"><div class="Wysiwyg">You may be surprised that no entry was made for the ping that you just successfully completed. The reason for this is in the behavior of the ping process, which uses the IP address of the outgoing interface as the source IP address in the packets that it uses. For the test that you just did, the outgoing interface (Fa0/1) has the IP address 172.20.<span class="WysiwygItalic">x</span>.254, which does <span class="WysiwygItalic">not</span> need to be translated. To test this, you need to <span class="WysiwygItalic">go to your workgroup switch and repeat the ping command</span><span class="WysiwygEmph">, </span>and then <span class="WysiwygItalic">return to your router</span> to view the translation entry.</div></td></tr></table></td></tr></tbody></table></div><div id="Step6"><table class="StepActionTable" id="Step6Body"><tbody><tr><td colspan="2" class="Separator">Step7</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">At your workgroup <span class="WysiwygItalic">switch</span> user EXEC prompt, enter the<span class="WysiwygEmph"> ping</span> command to the default router IP address that you used in Step 5. Your output should be similar to the following example:</td></tr><tr><td class="StepCell"/><td style="padding-left: 0px;padding-bottom: 5px;" class="StepCell"><div class="CodeEPUB"><span class="WysiwygEmph">SwitchX&gt;</span>ping 172.20.21.254 <br/> <br/>Type escape sequence to abort.<br/>Sending 5, 100-byte ICMP Echos to 172.20.21.254, timeout is 2 seconds:<br/>!!!!!<br/>Success rate is 100 percent (5/5), round-trip min/avg/max = 1/2/8 ms<br/>SwitchX&gt;</div></td></tr></tbody></table></div><div id="Step7"><table class="StepActionTable" id="Step7Body"><tbody><tr><td colspan="2" class="Separator">Step8</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">Return to your workgroup router and enter the <span class="WysiwygEmph">show ip nat translations</span> command.</td></tr><tr><td class="StepCell"/><td style="padding-left: 0px;padding-bottom: 5px;" class="StepCell"><div class="CodeEPUB">RouterX#show ip nat translations<br/>Pro Inside global      Inside local         Outside local      Outside global<br/>icmp 172.20.21.5:33    10<span class="WysiwygEmph">.10.10.11:33</span>    172.20.21.254:33   172.20.21.254:33</div></td></tr></tbody></table></div><div id="Step8"><table class="StepActionTable" id="Step8Body"><tbody><tr><td colspan="2" class="Separator">Step9</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">Observe that in your output, the inside local IP address was your workgroup switch and the inside global IP address was your Fa0/1 interface.</td></tr></tbody></table></div><div id="Step9"><table class="StepActionTable" id="Step9Body"><tbody><tr><td colspan="2" class="Separator">Step10</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">Save your running configuration to the startup-config file.</td></tr></tbody></table></div></div><div class="TitledBlockType"><div class="TitledBlockType_Title">Activity Verification</div><div class="ParagraphType"><div class="ListType List"><div class="ListPreamble">You have completed this task when you attain these results:</div><table class="UnorderedTable"><tr><td/><td><ul class="Bullet"><li><div class="ItemPara">You were able to get the DHCP-obtained IP address of the default gateway.</div></li></ul></td></tr><tr><td/><td><ul class="Bullet"><li><div class="ItemPara">You have tested the operation of PAT, using a ping that was locally generated on your workgroup <span class="WysiwygItalic">router</span>. The <span class="WysiwygEmph">show ip nat translation</span> command failed to show any translation because of the behavior of the ping packets (use of source IP addresses).</div></li></ul></td></tr><tr><td/><td><ul class="Bullet"><li><div class="ItemPara">You have retested the ping, from your workgroup <span class="WysiwygItalic">switch</span> and by using the <span class="WysiwygEmph">show ip nat translation </span>command. This sequence of packets did generate a translation.</div></li></ul></td></tr><tr><td/><td><ul class="Bullet"><li><div class="ItemPara">You have saved your running configuration to the startup-config file.</div></li></ul></td></tr></table></div></div></div></div></body></html>