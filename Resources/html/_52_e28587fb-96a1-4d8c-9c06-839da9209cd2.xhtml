<?xml version="1.0" encoding="UTF-8"?><html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops"><head><meta content="text/html; charset=utf-8" http-equiv="default-style"/><title>Task 5: Configure Port Security on a SwitchEPUB 3a959fd08-369e-42f9-8dc2-6c261988e5f7</title><link type="text/css" rel="STYLESHEET" href="ContentPackages/Core/Stylesheets/Core.css?bv=72"/><link type="text/css" rel="STYLESHEET" href="ContentPackages/Core/Stylesheets/jquery-ui-all.css?bv=72"/><link type="text/css" rel="STYLESHEET" href="ContentPackages/Core/Stylesheets/jquery.alerts.css?bv=72"/></head><body class=""><div class="Procedure"><div class="Title_Procedure">Task 5: Configure Port Security on a Switch</div><div id="N20009" class="ParagraphType ParaBlock"><div class="Wysiwyg">In this task, you will configure the switch to permit only a defined number of MAC addresses on the first access port, and specify the action to take should this number be exceeded. You will determine how many addresses are being learned dynamically, then modify the interface to permit one less than this number, so that a MAC violation will occur. You will use show commands to observe the status and behavior of the switch before finally setting the secure number of addresses back to a viable nonerror-producing value.</div></div><div class="TitledBlockType"><div class="TitledBlockType_Title">Activity Procedure</div><div class="ParagraphType"><div class="Wysiwyg">Access your SwitchX console port, where X identifies your pod. Complete these steps to configure port security on your workgroup switch:</div><table class="CustomNote"><tr><td class="AreaIcon"><img style="cursor: pointer; width:px ; height:px" src="ContentPackages/media/Core/CustomNote.png" alt=""/></td><td class="AreaContent"><div class="Wysiwyg">You should have saved the current running configuration at the end of the previous lab. If you are in doubt, save your running configuration to the startup-config file prior to reloading.</div></td></tr></table></div></div><div id="StepGroup" class="StepGroup"><div id="Step0"><table class="StepActionTable" id="Step0Body"><tbody><tr><td colspan="2" class="Separator">Step1</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">Enter the commands to reload your switch.</td></tr></tbody></table></div><div id="Step1"><table class="StepActionTable" id="Step1Body"><tbody><tr><td colspan="2" class="Separator">Step2</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">Enter the commands to get to the enable EXEC prompt.</td></tr></tbody></table></div><div id="Step2"><table class="StepActionTable" id="Step2Body"><tbody><tr><td colspan="2" class="Separator">Step3</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">Enter the <span class="WysiwygEmph">ping </span>command to test connectivity to the IP address of 10.<span class="WysiwygItalic">x</span>.<span class="WysiwygItalic">x</span>.100.</td></tr></tbody></table></div><div id="Step3"><table class="StepActionTable" id="Step3Body"><tbody><tr><td colspan="2" class="Separator">Step4</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">Enter the command <span class="WysiwygEmph">show ip arp</span>. This will display the bindings between the IP address and the MAC address of 10.<span class="WysiwygItalic">x</span>.<span class="WysiwygItalic">x</span>.100. Your output should be similar to the following example:</td></tr><tr><td class="StepCell"/><td style="padding-left: 0px;padding-bottom: 5px;" class="StepCell"><div class="CodeEPUB">SwitchX#show ip arp<br/>Protocol  Address          Age (min)  Hardware Addr   Type   Interface<br/>Internet  10.x.x.11               -   001a.6d44.6cc0  ARPA   Vlan1<br/><span class="WysiwygEmph">Internet  10.x.x.100</span>              0   001a.2fe7.3089  ARPA   Vlan1</div></td></tr></tbody></table></div><div id="Step4"><table class="StepActionTable" id="Step4Body"><tbody><tr><td colspan="2" class="Separator">Step5</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">Enter the corresponding MAC address of the 10.<span class="WysiwygItalic">x</span>.<span class="WysiwygItalic">x</span>.100 device in the table below in Step 7.</td></tr></tbody></table></div><div id="Step5"><table class="StepActionTable" id="Step5Body"><tbody><tr><td colspan="2" class="Separator">Step6</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">Enter the command <span class="WysiwygEmph">show mac-address-table int fa0/1</span>. There should be one MAC address that is not associated with the 10.<span class="WysiwygItalic">x</span>.<span class="WysiwygItalic">x</span>.100 IP address, which is the address that you just pinged; this is the MAC address of the unmanaged device. Your output should be similar to the following example:</td></tr><tr><td class="StepCell"/><td style="padding-left: 0px;padding-bottom: 5px;" class="StepCell"><div class="CodeEPUB">SwitchX#show mac-address-table int fa0/1<br/>        Mac Address Table<br/>-------------------------------------------<br/><br/>Vlan    Mac Address       Type        Ports<br/>----    -----------       --------    -----<br/> 1    0017.5a78.be01    DYNAMIC     Fa0/1<br/> 1    001a.2fe7.3089    DYNAMIC     Fa0/1<br/>Total Mac Addresses for this criterion: 2</div></td></tr></tbody></table></div><div id="Step6"><table class="StepActionTable" id="Step6Body"><tbody><tr><td colspan="2" class="Separator">Step7</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">Enter the corresponding MAC address of the unmanaged device in the table below.</td></tr><tr><td class="StepCell"/><td style="padding-left: 0px;padding-bottom: 5px;" class="StepCell"><div style="width:100%"><div class="TableType Table" style="width:%; "><div class="TableType_Title Title_Table">MAC Address Table</div><table class="TableType" style="border-collapse: collapse; border: 1px solid #FFFFFF;"><colgroup><col style="width:41%"/><col style="width:59%"/></colgroup><thead><tr><td class="TableCell" colspan="1" rowspan="1" style="vertical-align: top;bordercolor:white;border: 1px solid #FFFFFF;text-align: left;background-color: none;"><div class="Wysiwyg">Device IP Address</div></td><td class="TableCell" colspan="1" rowspan="1" style="vertical-align: top;bordercolor:white;border: 1px solid #FFFFFF;text-align: left;background-color: none;"><div class="Wysiwyg">MAC Address</div></td></tr></thead><tbody><tr class="TableRow Row0" style="border: 1px solid #FFFFFF;"><td class="TableCell" colspan="1" rowspan="1" style="vertical-align: top;bordercolor:white;border: 1px solid #FFFFFF;text-align: left;background-color: none;"><div class="Wysiwyg">10.<span class="WysiwygItalic">x</span>.<span class="WysiwygItalic">x</span>.100</div></td><td class="TableCell" colspan="1" rowspan="1" style="vertical-align: top;bordercolor:white;border: 1px solid #FFFFFF;text-align: left;background-color: none;"><div class="Wysiwyg"/>&#10;</td></tr><tr class="TableRow Row1" style="border: 1px solid #FFFFFF;"><td class="TableCell" colspan="1" rowspan="1" style="vertical-align: top;bordercolor:white;border: 1px solid #FFFFFF;text-align: left;background-color: none;"><div class="Wysiwyg">Unmanaged device</div></td><td class="TableCell" colspan="1" rowspan="1" style="vertical-align: top;bordercolor:white;border: 1px solid #FFFFFF;text-align: left;background-color: none;"><div class="Wysiwyg"/>&#10;</td></tr></tbody></table></div></div></td></tr></tbody></table></div><div id="Step7"><table class="StepActionTable" id="Step7Body"><tbody><tr><td colspan="2" class="Separator">Step8</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">Before you configure port security, you need to clear the dynamically learned MAC address entries. Enter the command <span class="WysiwygEmph">clear mac-address-table dynamic int fa0/1</span>. </td></tr></tbody></table></div><div id="Step8"><table class="StepActionTable" id="Step8Body"><tbody><tr><td colspan="2" class="Separator">Step9</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">Wait at least 10 seconds before entering the <span class="WysiwygEmph">show mac-address-table int fa0/1</span> to see the effect of this command. You will see that the MAC address of the unmanaged device is still in the MAC address table. This is because this device is periodically sending Layer 2 frames. Other Ethernet interfaces may be set to periodically send keepalive frames. However, you should see <span class="WysiwygItalic">only</span> the MAC addresses being learned at this time. Your output should be similar to the following example:</td></tr><tr><td class="StepCell"/><td style="padding-left: 0px;padding-bottom: 5px;" class="StepCell"><div class="CodeEPUB">SwitchX#show mac-address-table int fa0/1<br/>        Mac Address Table<br/>-------------------------------------------<br/><br/>Vlan    Mac Address       Type        Ports<br/>----    -----------       --------    -----<br/> 1    0017.5a78.be0f    DYNAMIC     Fa0/1<br/>Total Mac Addresses for this criterion: 1</div></td></tr></tbody></table></div><div id="Step9"><table class="StepActionTable" id="Step9Body"><tbody><tr><td colspan="2" class="Separator">Step10</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">Enter the command <span class="WysiwygEmph">configure t</span>.</td></tr></tbody></table></div><div id="Step10"><table class="StepActionTable" id="Step10Body"><tbody><tr><td colspan="2" class="Separator">Step11</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">Enter the command <span class="WysiwygEmph">interface fa0/1</span>.</td></tr></tbody></table></div><div id="Step11"><table class="StepActionTable" id="Step11Body"><tbody><tr><td colspan="2" class="Separator">Step12</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">Disable the interface by entering the <span class="WysiwygEmph">shutdown</span> command.</td></tr></tbody></table></div><div id="Step12"><table class="StepActionTable" id="Step12Body"><tbody><tr><td colspan="2" class="Separator">Step13</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">Before port security features can be applied to a switch port, the switch port has to be in nonautonegotiation mode. Enter the command <span class="WysiwygEmph">switchport mode access</span>.</td></tr></tbody></table></div><div id="Step13"><table class="StepActionTable" id="Step13Body"><tbody><tr><td colspan="2" class="Separator">Step14</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">Before activating port security, it is necessary to set the maximum number of MAC addresses to an appropriate value if there are more than the default of 1. However, because the intention is to trigger a MAC address violation—and in Step 6, you saw there were two MAC addresses that were associated with this interface—no action is necessary.</td></tr></tbody></table></div><div id="Step14"><table class="StepActionTable" id="Step14Body"><tbody><tr><td colspan="2" class="Separator">Step15</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">Another parameter that should be set before the activation of port security is which action to take when more MAC addresses attempt to use the interface than have been configured. This is known as the violation action. The default action is <span class="WysiwygEmph">shutdown</span>, which will error-disable the interface. Initially, you will use this default value so that you get experience resetting the interface.</td></tr></tbody></table></div><div id="Step15"><table class="StepActionTable" id="Step15Body"><tbody><tr><td colspan="2" class="Separator">Step16</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">Enter the command <span class="WysiwygEmph">switchport port-security mac-address sticky</span>. This will cause MAC addresses that are learned to be saved in the running configuration. If the configuration is subsequently saved to the startup-config file, they will be remembered on a restart.</td></tr></tbody></table></div><div id="Step16"><table class="StepActionTable" id="Step16Body"><tbody><tr><td colspan="2" class="Separator">Step17</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">Enter the command <span class="WysiwygEmph">switchport port-security</span>. Entering the command without any parameters activates port security. If this is not done, port security remains disabled.</td></tr></tbody></table></div><div id="Step17"><table class="StepActionTable" id="Step17Body"><tbody><tr><td colspan="2" class="Separator">Step18</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">Enter the command <span class="WysiwygEmph">no shutdown</span> to re-enable the switch port.</td></tr></tbody></table></div><div id="Step18"><table class="StepActionTable" id="Step18Body"><tbody><tr><td colspan="2" class="Separator">Step19</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">Enter the command <span class="WysiwygEmph">end</span> to leave configuration mode and return to the enable EXEC prompt.</td></tr></tbody></table></div><div id="Step19"><table class="StepActionTable" id="Step19Body"><tbody><tr><td colspan="2" class="Separator">Step20</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">Wait for 20 seconds before entering the command <span class="WysiwygEmph">show running-config int fa0/1</span> to display the portion of the running configuration for interface Fa0/1. Your output should be similar to the following example, which has some output shown in bold for emphasis.</td></tr><tr><td class="StepCell"/><td style="padding-left: 0px;padding-bottom: 5px;" class="StepCell"><div class="CodeEPUB">SwitchX#show running-config int fa0/1<br/>Building configuration...<br/><br/>Current configuration : 128 bytes<br/>!<br/>interface FastEthernet0/1<br/> switchport mode access<br/> switchport port-security<br/> switchport port-security mac-address sticky<br/><span class="WysiwygEmph"> switchport port-security mac-address sticky 0017.5a78.be0f</span><br/>end</div><table class="CustomNote"><tr><td class="AreaIcon"><img style="cursor: pointer; width:px ; height:px" src="ContentPackages/media/Core/CustomNote.png" alt=""/></td><td class="AreaContent"><div class="Wysiwyg">Do not proceed until the MAC address of the unmanaged device is seen in the output of the <span class="WysiwygEmph">show running-config int fa0/1</span> command.</div></td></tr></table></td></tr></tbody></table></div><div id="Step20"><table class="StepActionTable" id="Step20Body"><tbody><tr><td colspan="2" class="Separator">Step21</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">Enter the <span class="WysiwygEmph">show port-security int fa0/1</span> command to display the current port security settings.</td></tr><tr><td class="StepCell"/><td style="padding-left: 0px;padding-bottom: 5px;" class="StepCell"><div class="CodeEPUB">SwitchX#show port-security int fa0/1<br/>Port Security              : Enabled<br/><span class="WysiwygEmph">Port Status                : Secure-up</span><br/><span class="WysiwygEmph">Violation Mode             : Shutdown</span><br/>Aging Time                 : 0 mins<br/>Aging Type                 : Absolute<br/>SecureStatic Address Aging : Disabled<br/><span class="WysiwygEmph">Maximum MAC Addresses      : 1</span><br/><span class="WysiwygEmph">Total MAC Addresses        : 1</span><br/>Configured MAC Addresses   : 0<br/><span class="WysiwygEmph">Sticky MAC Addresses       : 1<br/>Last Source Address:Vlan   : 0017.5a78.be01:1</span><br/><span class="WysiwygEmph">Security Violation Count   : 0</span>                        </div></td></tr></tbody></table></div><div id="Step21"><table class="StepActionTable" id="Step21Body"><tbody><tr><td colspan="2" class="Separator">Step22</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">Enter the command <span class="WysiwygEmph">show mac-address dynamic int fa0/1</span> to show the dynamic MAC table entries for interface Fa0/1 only. You should not see any entries, because they would have been converted to static (sticky) entries. Your output should be similar to the following example:</td></tr><tr><td class="StepCell"/><td style="padding-left: 0px;padding-bottom: 5px;" class="StepCell"><div class="CodeEPUB">SwitchX#show mac-address dynamic int fa0/1<br/>        Mac Address Table<br/>-------------------------------------------<br/>Vlan    Mac Address       Type        Ports<br/>----    -----------       --------    -----</div></td></tr></tbody></table></div><div id="Step22"><table class="StepActionTable" id="Step22Body"><tbody><tr><td colspan="2" class="Separator">Step23</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">Use the <span class="WysiwygEmph">ping</span> command to create a port security violation, <span class="WysiwygEmph">ping 10.</span><span class="WysiwygEmph"><span class="WysiwygItalic">x</span></span><span class="WysiwygEmph">.</span><span class="WysiwygEmph"><span class="WysiwygItalic">x</span></span><span class="WysiwygEmph">.100</span>. Your output should be similar to the following example:</td></tr><tr><td class="StepCell"/><td style="padding-left: 0px;padding-bottom: 5px;" class="StepCell"><div class="CodeEPUB">23:07:41: %PM-4-ERR_DISABLE: psecure-violation error detected on Fa0/1, putting Fa0/1 in err-disable state<br/>23:07:41: %PORT_SECURITY-2-PSECURE_VIOLATION: Security violation occurred, caused by MAC address 001a.2fe7.3089 on port FastEthernet0/1.<br/>23:07:42: %LINEPROTO-5-UPDOWN: Line protocol on Interface FastEthernet0/1, changed state to down.<br/>23:07:43: %LINK-3-UPDOWN: Interface FastEthernet0/1, changed state to down....<br/>Success rate is 0 percent (0/5)<br/>SwitchX#</div></td></tr></tbody></table></div><div id="Step23"><table class="StepActionTable" id="Step23Body"><tbody><tr><td colspan="2" class="Separator">Step24</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">Enter the <span class="WysiwygEmph">show port-security interface fa0/1</span> command to display the current port security settings.</td></tr><tr><td class="StepCell"/><td style="padding-left: 0px;padding-bottom: 5px;" class="StepCell"><div class="CodeEPUB">SwitchX#show port-security int fa0/1<br/>Port Security              : Enabled<br/><span class="WysiwygEmph">Port Status                : Secure-shutdown</span><br/><span class="WysiwygEmph">Violation Mode             : Shutdown</span><br/>Aging Time                 : 0 mins<br/>Aging Type                 : Absolute<br/>SecureStatic Address Aging : Disabled<br/>Maximum MAC Addresses      : 1<br/>Total MAC Addresses        : 1<br/>Configured MAC Addresses   : 0<br/>Sticky MAC Addresses       : 1<br/>Last Source Address:Vlan   : 001a.2fe7.3089:1<br/>Security Violation Count   : 1</div></td></tr></tbody></table></div><div id="Step24"><table class="StepActionTable" id="Step24Body"><tbody><tr><td colspan="2" class="Separator">Step25</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">It is now necessary to modify the maximum value of allowable MAC addresses to two. It is also necessary to change the violation action to restrict and then return the interface from errdisable state to administratively up.</td></tr></tbody></table></div><div id="Step25"><table class="StepActionTable" id="Step25Body"><tbody><tr><td colspan="2" class="Separator">Step26</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">Before you attempt to modify the port security setting, it is best to clear the MAC table entries.</td></tr></tbody></table></div><div id="Step26"><table class="StepActionTable" id="Step26Body"><tbody><tr><td colspan="2" class="Separator">Step27</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">Enter the command <span class="WysiwygEmph">clear port-security sticky int fa0/1</span>. Note: By restricting the action of the clear command to only the interface that you are currently dealing with, you avoid the risk of inadvertently affecting other interfaces.</td></tr></tbody></table></div><div id="Step27"><table class="StepActionTable" id="Step27Body"><tbody><tr><td colspan="2" class="Separator">Step28</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">Enter the command <span class="WysiwygEmph">configure t</span>.</td></tr></tbody></table></div><div id="Step28"><table class="StepActionTable" id="Step28Body"><tbody><tr><td colspan="2" class="Separator">Step29</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">Enter the command <span class="WysiwygEmph">int fa0/1</span>.</td></tr></tbody></table></div><div id="Step29"><table class="StepActionTable" id="Step29Body"><tbody><tr><td colspan="2" class="Separator">Step30</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">Enter the command <span class="WysiwygEmph">switchport port-security maximum 2</span>.</td></tr></tbody></table></div><div id="Step30"><table class="StepActionTable" id="Step30Body"><tbody><tr><td colspan="2" class="Separator">Step31</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">Enter the command <span class="WysiwygEmph">switchport port-security violation restrict</span>. The restrict violation action does not shut down the interface; instead it blocks the frames, generates a local message, and increments the security violation count. This violation action is appropriate for a low-security environment.</td></tr></tbody></table></div><div id="Step31"><table class="StepActionTable" id="Step31Body"><tbody><tr><td colspan="2" class="Separator">Step32</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">To return the interface to administratively up from errdisable, it is necessary to first enter the command <span class="WysiwygEmph">shutdown</span> and then enter the command <span class="WysiwygEmph">no shutdown</span> to bring the interface back up.</td></tr></tbody></table></div><div id="Step32"><table class="StepActionTable" id="Step32Body"><tbody><tr><td colspan="2" class="Separator">Step33</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">Enter the command <span class="WysiwygEmph">end</span> to leave configuration mode and return to the enable EXEC prompt.</td></tr></tbody></table></div><div id="Step33"><table class="StepActionTable" id="Step33Body"><tbody><tr><td colspan="2" class="Separator">Step34</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">Wait 20 seconds before you test your configuration by using the <span class="WysiwygEmph">ping</span> command to 10<span class="WysiwygItalic">.x.x.</span>100.</td></tr></tbody></table></div><div id="Step34"><table class="StepActionTable" id="Step34Body"><tbody><tr><td colspan="2" class="Separator">Step35</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">The following example shows the output of the <span class="WysiwygEmph">show running-config int fa0/1</span> command. Your output should be similar.</td></tr><tr><td class="StepCell"/><td style="padding-left: 0px;padding-bottom: 5px;" class="StepCell"><div class="CodeEPUB">SwitchX#show running-config int fa0/1<br/>Building configuration...<br/><br/>Current configuration : 329 bytes<br/>!<br/>interface FastEthernet0/1 <br/> switchport mode access <br/> switchport port-security maximum 2 <br/> switchport port-security <br/> switchport port-security violation restrict <br/> switchport port-security mac-address sticky <br/> switchport port-security mac-address sticky 0017.5a78.be01 <br/> switchport port-security mac-address sticky 001a.2fe7.3089 <br/>end</div></td></tr></tbody></table></div><div id="Step35"><table class="StepActionTable" id="Step35Body"><tbody><tr><td colspan="2" class="Separator">Step36</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">The following example shows the output of the <span class="WysiwygEmph">show port-security int fa0/1</span> command:</td></tr><tr><td class="StepCell"/><td style="padding-left: 0px;padding-bottom: 5px;" class="StepCell"><div class="CodeEPUB">SwitchX#show port-security int fa0/1<br/>Port Security              : Enabled<br/><span class="WysiwygEmph">Port Status                : Secure-up</span><br/><span class="WysiwygEmph">Violation Mode             : Restrict</span><br/>Aging Time                 : 0 mins<br/>Aging Type                 : Absolute<br/>SecureStatic Address Aging : Disabled<br/>Maximum MAC Addresses      : 2<br/>Total MAC Addresses        : 2<br/>Configured MAC Addresses   : 0<br/>Sticky MAC Addresses       : 2<br/>Last Source Address:Vlan   : 001a.2fe7.3089:1<br/>Security Violation Count   : 0</div></td></tr></tbody></table></div><div id="Step36"><table class="StepActionTable" id="Step36Body"><tbody><tr><td colspan="2" class="Separator">Step37</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">Compare the boldface text with the output of Step 22, which should show that the port is up and that the violation mode is now Restrict rather than Shutdown.</td></tr></tbody></table></div><div id="Step37"><table class="StepActionTable" id="Step37Body"><tbody><tr><td colspan="2" class="Separator">Step38</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">Save your running configuration to the startup-config file.</td></tr></tbody></table></div></div><div class="TitledBlockType"><div class="TitledBlockType_Title">Activity Verification</div><div class="ParagraphType"><div class="ListType List"><div class="ListPreamble">You have completed this task when you attain these results:</div><table class="UnorderedTable"><tr><td/><td><ul class="Bullet"><li><div class="ItemPara">You have configured the switch to permit one dynamically learned MAC addresses on the first access port (Fa0/1).</div></li></ul></td></tr><tr><td/><td><ul class="Bullet"><li><div class="ItemPara">You have configured the port to be forced into a port security violation, resulting in it being error-disabled.</div></li></ul></td></tr><tr><td/><td><ul class="Bullet"><li><div class="ItemPara">You have changed the configuration to support two dynamically learned MAC addresses and you have modified the violation action to restrict access and not shut down the port.</div></li></ul></td></tr><tr><td/><td><ul class="Bullet"><li><div class="ItemPara">You have returned the port from the error disable state to administratively up.</div></li></ul></td></tr><tr><td/><td><ul class="Bullet"><li><div class="ItemPara">You have retested the port and no port security violations were triggered.</div></li></ul></td></tr><tr><td/><td><ul class="Bullet"><li><div class="ItemPara">You have saved the running configuration to the startup-config file.</div></li></ul></td></tr></table></div></div></div></div></body></html>