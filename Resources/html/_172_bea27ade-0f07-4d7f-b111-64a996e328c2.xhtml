<?xml version="1.0" encoding="UTF-8"?><html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops"><head><meta content="text/html; charset=utf-8" http-equiv="default-style"/><title>Task 1: Use and Control Cisco Discovery Protocol on Your Workgroup RouterEPUB 3a959fd08-369e-42f9-8dc2-6c261988e5f7</title><link type="text/css" rel="STYLESHEET" href="ContentPackages/Core/Stylesheets/Core.css?bv=72"/><link type="text/css" rel="STYLESHEET" href="ContentPackages/Core/Stylesheets/jquery-ui-all.css?bv=72"/><link type="text/css" rel="STYLESHEET" href="ContentPackages/Core/Stylesheets/jquery.alerts.css?bv=72"/></head><body class=""><div class="Procedure"><div class="Title_Procedure">Task 1: Use and Control Cisco Discovery Protocol on Your Workgroup Router</div><div id="N20009" class="ParagraphType ParaBlock"><div class="Wysiwyg">In this task, you will use Cisco Discovery Protocol to obtain information about directly connected Cisco devices. You will also control which interfaces run Cisco Discovery Protocol, because the information supplied by Cisco Discovery Protocol can be used by a hacker to obtain information for launching a security exploit.</div></div><div class="TitledBlockType"><div class="TitledBlockType_Title">Activity Procedure</div><div class="ParagraphType"><div class="Wysiwyg">Complete these steps:</div></div></div><div id="StepGroup" class="StepGroup"><div id="Step0"><table class="StepActionTable" id="Step0Body"><tbody><tr><td colspan="2" class="Separator">Step1</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">Connect to your remote workgroup router via the console server, and enter the necessary commands and passwords to get to the EXEC enable prompt.</td></tr></tbody></table></div><div id="Step1"><table class="StepActionTable" id="Step1Body"><tbody><tr><td colspan="2" class="Separator">Step2</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">Enter the <span class="WysiwygEmph">show cdp</span> command to verify that Cisco Discovery Protocol is enabled and to display global information.</td></tr><tr><td class="StepCell"/><td style="padding-left: 0px;padding-bottom: 5px;" class="StepCell"><div class="CodeEPUB">RouterX#show cdp<br/>Global CDP information:<br/>      Sending CDP packets every 60 seconds<br/>      Sending a holdtime value of 180 seconds<br/>      Sending CDPv2 advertisements is  enabled</div></td></tr></tbody></table></div><div id="Step2"><table class="StepActionTable" id="Step2Body"><tbody><tr><td colspan="2" class="Separator">Step3</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">Enter the <span class="WysiwygEmph">show cdp interface</span> command to display the interfaces that are running Cisco Discovery Protocol. Your output should be similar to the following example:</td></tr><tr><td class="StepCell"/><td style="padding-left: 0px;padding-bottom: 5px;" class="StepCell"><div class="CodeEPUB">RouterX#show cdp interface<br/>FastEthernet0/0 is up, line protocol is up<br/>  Encapsulation ARPA<br/>  Sending CDP packets every 60 seconds<br/>  Holdtime is 180 seconds<br/>FastEthernet0/1 is up, line protocol is up<br/>  Encapsulation ARPA<br/>  Sending CDP packets every 60 seconds<br/>  Holdtime is 180 seconds<br/>Serial0/0/0 is up, line protocol is up<br/>  Encapsulation PPP<br/>  Sending CDP packets every 60 seconds<br/>  Holdtime is 180 seconds<br/>Serial0/0/1 is administratively down, line protocol is down<br/>  Encapsulation HDLC<br/>  Sending CDP packets every 60 seconds<br/>  Holdtime is 180 seconds</div></td></tr></tbody></table></div><div id="Step3"><table class="StepActionTable" id="Step3Body"><tbody><tr><td colspan="2" class="Separator">Step4</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">Enter the <span class="WysiwygEmph">show cdp neighbors</span> command to display any known Cisco devices. Your output should be similar to the following example:</td></tr><tr><td class="StepCell"/><td style="padding-left: 0px;padding-bottom: 5px;" class="StepCell"><div class="CodeEPUB">RouterX#show cdp neighbors<br/>Capability Codes: R - Router, T - Trans Bridge, B - Source Route Bridge<br/>                  S - Switch, H - Host, I - IGMP, r - Repeater<br/><br/>Device ID    Local Intrfce     Holdtme    Capability  Platform  Port ID<br/>MainRouter     Ser 0/0/0           167       R S I      2811      Ser 1/0<br/>SwitchX.cisco.com<br/>             Fas 0/0            137         S I       WS-C2960- Fas 0/2</div></td></tr></tbody></table></div><div id="Step4"><table class="StepActionTable" id="Step4Body"><tbody><tr><td colspan="2" class="Separator">Step5</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">Using the information that was gathered in the previous step, enter the <span class="WysiwygEmph">show cdp entry MainRouter</span> command to view the detailed Cisco Discovery Protocol information of the Cisco router that was learned through the serial interface. Your output should be similar to the following example:</td></tr><tr><td class="StepCell"/><td style="padding-left: 0px;padding-bottom: 5px;" class="StepCell"><div class="CodeEPUB">RouterX#show cdp entry MainRouter<br/>-------------------------<br/>Device ID: MainRouter<br/>Entry address(es):<br/>  <span class="WysiwygEmph">IP address: 10.140.10.1</span><br/><span class="WysiwygEmph">Platform: Cisco 2811,</span>  Capabilities: Router Switch IGMP<br/>Interface: Serial0/0/0,  Port ID (outgoing port): Serial1/0<br/>Holdtime : 150 sec<br/><br/>Version :<br/>Cisco IOS Software, <span class="WysiwygEmph">2800 Software (C2800NM-ADVIPSERVICESK9-M), Version</span><br/><span class="WysiwygEmph">12.4(12), RELEASE SOFTWARE (fc1)</span><br/>Technical Support: http://www.cisco.com/techsupport<br/>Copyright (c) 1986-2006 by Cisco Systems, Inc.<br/>Compiled Fri 17-Nov-06 12:02 by prod_rel_team<br/><br/>advertisement version: 2<br/>VTP Management Domain: ''</div></td></tr></tbody></table></div><div id="Step5"><table class="StepActionTable" id="Step5Body"><tbody><tr><td colspan="2" class="Separator">Step6</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">Observe in your display that the IP address of the remote device is output, as is the router platform and software information.</td></tr></tbody></table></div><div id="Step6"><table class="StepActionTable" id="Step6Body"><tbody><tr><td colspan="2" class="Separator">Step7</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">Using the IP address from your output in Step 5, you could attempt to log into router MainRouter; however, this would be unsuccessful, because MainRouter has an ACL preventing unauthorized access.</td></tr></tbody></table></div><div id="Step7"><table class="StepActionTable" id="Step7Body"><tbody><tr><td colspan="2" class="Separator">Step8</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">Enter the <span class="WysiwygEmph">show cdp neighbors detail</span> command to display the same information that <span class="WysiwygEmph">show cdp entry</span> did. However, the <span class="WysiwygEmph">neighbors detail</span> command will display all known neighbors without requiring any other parameters. Your output should be similar to the following example:</td></tr><tr><td class="StepCell"/><td style="padding-left: 0px;padding-bottom: 5px;" class="StepCell"><div class="CodeEPUB">RouterX#show cdp neighbors detail<br/>-------------------------<br/>Device ID: MainRouter<br/>Entry address(es):<br/>  IP address: 10.140.10.1<br/>Platform: Cisco 2811,  Capabilities: Router Switch IGMP<br/>Interface: Serial0/0/0,  Port ID (outgoing port): Serial1/0<br/>Holdtime : 167 sec<br/><br/>Version :<br/>Cisco IOS Software, 2800 Software (C2800NM-ADVIPSERVICESK9-M), Version<br/>12.4(12), RELEASE SOFTWARE (fc1)<br/>Technical Support: http://www.cisco.com/techsupport<br/>Copyright (c) 1986-2006 by Cisco Systems, Inc.<br/>Compiled Fri 17-Nov-06 12:02 by prod_rel_team<br/><br/>advertisement version: 2<br/>VTP Management Domain: ''<br/><br/>-------------------------<br/>Device ID: SwitchX.cisco.com<br/>Entry address(es):<br/>  IP address: 10.10.10.11<br/>Platform: cisco WS-C2960-24TT-L,  Capabilities: Switch IGMP<br/>Interface: FastEthernet0/0,  Port ID (outgoing port): FastEthernet0/2<br/>Holdtime : 135 sec<br/><br/>Version :<br/>Cisco IOS Software, C2960 Software (C2960-LANBASEK9-M), Version 12.2(25)SEE2, RELEASE SOFTWARE (fc1)<br/>Copyright (c) 1986-2006 by Cisco Systems, Inc.<br/>Compiled Fri 28-Jul-06 11:57 by yenanh<br/><br/>advertisement version: 2<br/>Protocol Hello:  OUI=0x00000C, Protocol ID=0x0112; payload len=27, value=00000000FFFFFFFF010221FF000000000000001A6D446C80FF0000<br/>VTP Management Domain: ''<br/>Native VLAN: 1<br/>Duplex: half</div></td></tr></tbody></table></div><div id="Step8"><table class="StepActionTable" id="Step8Body"><tbody><tr><td colspan="2" class="Separator">Step9</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">From the output of the <span class="WysiwygEmph">cdp</span> commands or by knowing the topology, you can determine which interfaces connect to your network infrastructure. Any interfaces that do not connect to the infrastructure should have Cisco Discovery Protocol disabled, because it offers the potential for helping hackers gain knowledge of your network. From the perspective of the workgroup routers, interfaces Fa0/1 and S0/0/1 should have Cisco Discovery Protocol disabled.</td></tr></tbody></table></div><div id="Step9"><table class="StepActionTable" id="Step9Body"><tbody><tr><td colspan="2" class="Separator">Step10</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">At the global configuration mode, enter <span class="WysiwygEmph">interface fa0/1</span> and then enter the <span class="WysiwygEmph">no cdp enable</span> command to disable Cisco Discovery Protocol only on this interface.</td></tr></tbody></table></div><div id="Step10"><table class="StepActionTable" id="Step10Body"><tbody><tr><td colspan="2" class="Separator">Step11</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">Enter the same sequence of commands to disable Cisco Discovery Protocol on your S0/0/1 interface, and then return to the enable EXEC prompt. </td></tr></tbody></table></div><div id="Step11"><table class="StepActionTable" id="Step11Body"><tbody><tr><td colspan="2" class="Separator">Step12</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">Enter the <span class="WysiwygEmph">show cdp interface</span> command to verify that only Fa0/0 and S0/0/0 are running Cisco Discovery Protocol at this time. Your output should be similar to the following example:</td></tr><tr><td class="StepCell"/><td style="padding-left: 0px;padding-bottom: 5px;" class="StepCell"><div class="CodeEPUB">RouterX#show cdp interface<br/>FastEthernet0/0 is up, line protocol is up<br/>   Encapsulation ARPA<br/>   Sending CDP packets every 60 seconds<br/>   Holdtime is 180 seconds<br/>Serial0/0/0 is up, line protocol is up<br/>   Encapsulation PPP<br/>   Sending CDP packets every 60 seconds<br/>   Holdtime is 180 seconds</div></td></tr></tbody></table></div><div id="Step12"><table class="StepActionTable" id="Step12Body"><tbody><tr><td colspan="2" class="Separator">Step13</td></tr><tr class="UserAction"><td class="None"><img alt="" width="21" src="ContentPackages/Core/Transforms/media/img_transp.png"/></td><td class="TextNone">Having verified your configuration changes, save your configuration to the startup-config file.</td></tr></tbody></table></div></div><div class="TitledBlockType"><div class="TitledBlockType_Title">Activity Verification</div><div class="ParagraphType"><div class="ListType List"><div class="ListPreamble">You have completed this task when you attain these results:</div><table class="UnorderedTable"><tr><td/><td><ul class="Bullet"><li><div class="ItemPara">You have observed the Cisco Discovery Protocol output for your directly attached Cisco neighbors.</div></li></ul></td></tr><tr><td/><td><ul class="Bullet"><li><div class="ItemPara">You have disabled Cisco Discovery Protocol on the interfaces that do not connect to your network infrastructure.</div></li></ul></td></tr><tr><td/><td><ul class="Bullet"><li><div class="ItemPara">You have saved your workgroup router configuration to the startup-config file.</div></li></ul></td></tr></table></div></div></div></div></body></html>